#!/bin/bash

# å–µå¡ (Milka) é¡¹ç›®æž¶æž„ç”Ÿæˆè„šæœ¬
# åŸºäºŽæ‡’çŒ«å¾®æœå¹³å°çš„è½»é‡çº§è®°å¿†é—ªå¡åº”ç”¨

echo "å¼€å§‹åˆ›å»ºå–µå¡é¡¹ç›®æž¶æž„..."

# åˆ›å»ºä¸»åº”ç”¨ç›®å½•
mkdir -p app

# åˆ›å»ºå­ç›®å½•ç»“æž„
mkdir -p app/public/assets/icons
mkdir -p app/services
mkdir -p app/config

# åˆ›å»ºæ ¹ç›®å½•ä¸‹çš„åº”ç”¨ä¾èµ–æ–‡ä»¶
cat > app/package.json << 'EOF'
{
  "name": "milka-app",
  "version": "0.1.1",
  "description": "å–µå¡è®°å¿†é—ªå¡åº”ç”¨ - åŸºäºŽæ‡’çŒ«å¾®æœå’ŒMiniDB"
}
EOF

# åˆ›å»ºåŽç«¯æœåŠ¡å…¥å£
cat > app/server.js << 'EOF'
// å–µå¡åº”ç”¨åŽç«¯æœåŠ¡å…¥å£ - åŸºäºŽExpress.jså’Œæ‡’çŒ«å¾®æœæž¶æž„
EOF

# åˆ›å»ºå‰ç«¯HTMLå…¥å£
cat > app/public/index.html << 'EOF'
<!-- å–µå¡åº”ç”¨å‰ç«¯å…¥å£ - å•é¡µåº”ç”¨ä¸»é¡µé¢ -->
EOF

# åˆ›å»ºå‰ç«¯ä¸»é€»è¾‘æ–‡ä»¶
cat > app/public/app.js << 'EOF'
// å–µå¡åº”ç”¨å‰ç«¯ä¸»é€»è¾‘ - åŸºäºŽMiniDBå’ŒReactç»„ä»¶åŒ–è®¾è®¡
EOF

# åˆ›å»ºç»Ÿä¸€æ ·å¼æ–‡ä»¶
cat > app/public/styles.css << 'EOF'
/* å–µå¡åº”ç”¨ç»Ÿä¸€æ ·å¼ - æ”¯æŒæžç®€ç™½å’Œæš—å¤œé»‘ä¸¤ç§ä¸»é¢˜é£Žæ ¼ */
EOF

# åˆ›å»ºå›¾æ ‡å ä½æ–‡ä»¶
cat > app/public/assets/icons/.gitkeep << 'EOF'
# å–µå¡åº”ç”¨å›¾æ ‡èµ„æºç›®å½•
EOF

# åˆ›å»ºMiniDBæ•°æ®åº“æœåŠ¡
cat > app/services/database.js << 'EOF'
// MiniDBæ•°æ®åº“æœåŠ¡ - æ‡’çŒ«å¾®æœå®˜æ–¹è½»é‡çº§æ–‡æ¡£å¼æ•°æ®åº“é›†æˆ
EOF

# åˆ›å»ºä¸»é¢˜ä¸šåŠ¡é€»è¾‘
cat > app/services/theme.js << 'EOF'
// ä¸»é¢˜ç®¡ç†ä¸šåŠ¡é€»è¾‘ - åˆ›å»ºã€ç¼–è¾‘ã€æŽ’åºã€ç½®é¡¶ç­‰åŠŸèƒ½
EOF

# åˆ›å»ºå¡ç‰‡ä¸šåŠ¡é€»è¾‘
cat > app/services/card.js << 'EOF'
// å¡ç‰‡ç®¡ç†ä¸šåŠ¡é€»è¾‘ - å¡é¢åˆ›å»ºã€å…³è”ã€æŽ’åºç­‰åŠŸèƒ½
EOF

# åˆ›å»ºåº”ç”¨é…ç½®æ–‡ä»¶
cat > app/config/app.js << 'EOF'
// å–µå¡åº”ç”¨é…ç½® - çŽ¯å¢ƒå˜é‡ã€ä¸»é¢˜è®¾ç½®ã€æ•°æ®åº“é…ç½®ç­‰
EOF

echo "âœ… å–µå¡é¡¹ç›®æž¶æž„åˆ›å»ºå®Œæˆï¼"
echo ""
echo "ðŸ“ é¡¹ç›®ç»“æž„ï¼š"
echo "â”œâ”€â”€ app/"
echo "â”‚   â”œâ”€â”€ package.json        # åº”ç”¨ä¾èµ–é…ç½®"
echo "â”‚   â”œâ”€â”€ server.js          # åŽç«¯æœåŠ¡å…¥å£"
echo "â”‚   â”œâ”€â”€ public/            # å‰ç«¯èµ„æº"
echo "â”‚   â”‚   â”œâ”€â”€ index.html     # ä¸»é¡µé¢"
echo "â”‚   â”‚   â”œâ”€â”€ app.js         # å‰ç«¯é€»è¾‘"
echo "â”‚   â”‚   â”œâ”€â”€ styles.css     # ç»Ÿä¸€æ ·å¼"
echo "â”‚   â”‚   â””â”€â”€ assets/icons/  # å›¾æ ‡èµ„æº"
echo "â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘"
echo "â”‚   â”‚   â”œâ”€â”€ database.js    # MiniDBæœåŠ¡"
echo "â”‚   â”‚   â”œâ”€â”€ theme.js       # ä¸»é¢˜ç®¡ç†"
echo "â”‚   â”‚   â””â”€â”€ card.js        # å¡ç‰‡ç®¡ç†"
echo "â”‚   â””â”€â”€ config/"
echo "â”‚       â””â”€â”€ app.js         # åº”ç”¨é…ç½®"
echo ""
echo "ðŸš€ ä¸‹ä¸€æ­¥ï¼š"
echo "1. æ£€æŸ¥ lzc-manifest.yml å’Œ lzc-build.yml é…ç½®"
echo "2. å¼€å§‹ç¬¬ä¸€é˜¶æ®µå¼€å‘ï¼šMiniDBé›†æˆå’Œæ•°æ®æ¨¡åž‹å®žçŽ°"
echo "3. ä½¿ç”¨ DevShell è¿›è¡Œæœ¬åœ°å¼€å‘æµ‹è¯•"